.jp-search-replace-tab {
  --density: -3;
  --jp-search-replace-added-color: rgb(155 185 85 / 40%);
  --jp-search-replace-deleted-color: rgb(255 0 0 / 40%);
  --badge-fill-warning: var(--jp-warn-color1);
  --badge-color-warning: var(--jp-ui-inverse-font-color1);

  background: var(--jp-layout-color1);
  color: var(--jp-ui-font-color1);
}

.jp-search-replace-column {
  display: flex;
  flex-direction: column;
}

.jp-search-replace-row {
  display: flex;
  align-items: center;
}

.jp-search-replace-tab jp-toolbar {
  background-color: inherit;
}

.jp-search-replace-tab jp-toolbar,
.jp-search-replace-tab jp-button.jp-mod-icon-only {
  --design-unit: 3.5;
}

.jp-search-replace-tab jp-button.jp-mod-icon-only::part(control) {
  line-height: 0;
  padding: 0;
}

.jp-search-replace-tab .jp-stack-panel-header {
  border-bottom: solid var(--jp-border-width) var(--jp-border-color1);
  box-shadow: var(--jp-toolbar-box-shadow);
  padding: 4px 8px 2px;
}

.jp-search-replace-row > jp-text-field {
  flex: 1 1 auto;
}

.jp-search-replace-row > jp-toolbar {
  flex: 0 0 auto;
}

.jp-search-replace-header {
  height: 24px;
}

.jp-search-replace-header > h2 {
  text-transform: uppercase;
  font-weight: 600;
  font-size: var(--jp-ui-font-size1);
  margin: 0;
}

.jp-search-replace-tab .jp-Toolbar-spacer {
  flex: 1 1 0;
}

.jp-search-replace-breadcrumb::part(list) {
  flex-wrap: nowrap;
  overflow: hidden;
}

.jp-search-replace-breacrumbitem {
  flex: 0 0 auto;
  max-width: max-content;
}

.jp-search-replace-breacrumbitem::part(listitem) {
  width: 100%;
  overflow-x: hidden;
}

.jp-search-replace-pathbutton {
  width: 100%;
}

.jp-search-replace-pathbutton::part(control) {
  overflow-x: hidden;
}

.jp-search-replace-pathbutton::part(content) {
  overflow-x: hidden;
  text-overflow: ellipsis;
}

/* Fix JupyterLab icons colors */
.jp-search-replace-tab .jp-icon2[fill] {
  fill: none;
}

.jp-search-replace-tab .jp-icon-accent2[fill] {
  fill: currentcolor;
}

.jp-search-replace-filtersBox {
  flex: 0 0 auto;
  position: relative;
  padding: 4px 8px;
  min-height: 6px;
}

.jp-search-replace-filtersBox > label {
  color: var(--jp-ui-font-color1);
  font-size: var(--jp-ui-font-size1);
  margin-bottom: 4px;
}

.jp-search-replace-filters-collapser {
  position: absolute;
  top: -4px;
  right: 4px;
  max-height: 16px;
  height: 16px;
  margin: 0;
}

.jp-search-replace-row.jp-search-replace-collapser {
  align-items: flex-start;
  padding: 4px 4px 2px 0;
}

.jp-search-replace-collapser > .jp-search-replace-column {
  margin-top: 2px;
  flex: 1 1 auto;
}

.jp-search-replace-statistics {
  color: var(--jp-ui-font-color2);
  font-size: var(--jp-ui-font-size0);
}

.jp-search-replace-warning {
  display: flex;
  padding: 4px 8px;
  color: var(--jp-warn-color1);
  font-size: var(--jp-ui-font-size1);
}

.jp-search-replace-warning a {
  text-decoration: underline;
}

.jp-search-replace-warning::before {
  content: 'âš ';
  margin-right: 4px;
}

.jp-search-replace-list {
  overflow-y: auto;
  flex-grow: 1;
  flex-shrink: 1;
}

.jp-search-replace-list > jp-tree-view {
  min-width: auto;
}

.jp-search-replace-list jp-tree-item {
  background: none;
}

.jp-search-replace-tab > p {
  padding: 4px 8px;
}

.jp-search-replace-tab > jp-progress {
  padding: 4px;
}

.search-tree-files > span,
.search-tree-matches > span {
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow-x: hidden;
}

.search-tree-matches > span > del {
  background-color: var(--jp-search-replace-deleted-color);
}

.search-tree-matches > span > ins {
  background-color: var(--jp-search-replace-added-color);
  text-decoration-line: none;
}

.search-tree-files > span {
  flex-grow: 1;
  flex-shrink: 1;
}

.jp-search-replace-item-button {
  display: none;
  margin-left: auto;
}

jp-tree-item:hover > .jp-search-replace-item-button,
jp-tree-item:active > .jp-search-replace-item-button,
jp-tree-item:focus-visible > .jp-search-replace-item-button,
jp-tree-item:focus-within > .jp-search-replace-item-button {
  display: flex;
}

.jp-ask-checkbox {
  color: var(--jp-ui-font-color1);
}
